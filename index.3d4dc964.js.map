{"mappings":"AAIA,MAAMA,EAAO,CACTC,QAASC,SAASC,cAAc,YAChCC,KAAKF,SAASC,cAAc,eAEhCH,EAAKI,KAAKC,iBAAiB,SAoC3B,WACIC,GAAQ,EACZC,EAAUD,GAAME,MAAKC,IACjBT,EAAKC,QAAQS,mBAAmB,YAAaC,EAAYF,EAAKG,OAC9DC,EAAYC,KAAKC,KAAKN,EAAKO,UArCf,KAsCRV,IAASO,GACjBb,EAAKI,KAAKa,aAAa,UAAS,EAAK,IAElCC,OAAMC,GAAKC,QAAQC,IAAIF,I,IA1C1B,IAAIb,EAAO,EAEX,IAAIO,EAAY,EAGhB,SAASN,EAAUe,EAAK,GAInB,OAAOC,MAAM,8EAAyCD,0EAAmBd,MAAKgB,IAC3E,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAEd,OAAOF,EAAKG,KAAK,GAAG,G,CAQ5B,SAAShB,EAAYiB,GACjB,OAAOA,EAAIC,KAAI,EAACC,aAAEA,EAAYC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAAgB,6CAEtEL,WAAsBC,6DAEfC,2BACAC,8BACGC,gCACEC,gCAEXC,KAAK,G,CAdlB7B,IAAYC,MAAKC,IACjBT,EAAKC,QAAQS,mBAAmB,YAAYC,EAAYF,EAAKG,MAAM,IAChEM,OAAMC,GAAKC,QAAQC,IAAIF","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\n\n\nconst refs = {\n    gallery: document.querySelector('.gallery'),\n    load:document.querySelector('.load-more')\n}\nrefs.load.addEventListener('click', onLoadMore)\n\nlet page = 1;\nconst perPage = 100;\nlet totalPage = 0;\n\n\nfunction photosApi(page=1) { \n    const API_KEY = '31885081-e3ce08364707c8044635d8ba7'\n    const BASE_URL = 'https://pixabay.com/api/'\n    const filters = `per_page=100&image_type=photo&orientation=horizontal&safesearch=true`\n     return fetch(`${BASE_URL}?key=${API_KEY}&q=cat&page=${page}&${filters}`).then(resp => { \n        if (!resp.ok){ \n            throw new Error()\n        }\n        return resp.json('')\n    })\n}\n\nphotosApi().then(data => { \nrefs.gallery.insertAdjacentHTML('beforeend',creatMarkup(data.hits))\n}).catch(err=>console.log(err))\n\nfunction creatMarkup(arr) { \n    return arr.map(({ webformatURL, tags, likes, views, comments, downloads }) => `\n    <div class=\"photo-card\">\n<img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n<div class=\"info\">\n<p><b>Likes: </b>${likes}</p>\n<p><b>Views: </b>${views}</p>\n<p><b>Comments: </b>${comments}</p>\n <p><b>Downloads: </b>${downloads}</p>\n  </div>\n    </div>`).join('')\n}\n\nfunction onLoadMore() { \n    page += 1;\nphotosApi(page).then(data => { \n    refs.gallery.insertAdjacentHTML('beforeend', creatMarkup(data.hits));\n    totalPage = Math.ceil(data.totalHits/perPage);\n    if (page === totalPage) {\nrefs.load.setAttribute('hidden',true)\n     }\n}).catch(err=>console.log(err))\n}\n"],"names":["$1f0dc3b9307be026$var$refs","gallery","document","querySelector","load","addEventListener","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$photosApi","then","data","insertAdjacentHTML","$1f0dc3b9307be026$var$creatMarkup","hits","$1f0dc3b9307be026$var$totalPage","Math","ceil","totalHits","setAttribute","catch","err","console","log","page1","fetch","resp","ok","Error","json","arr","map","webformatURL","tags","likes","views","comments","downloads","join"],"version":3,"file":"index.3d4dc964.js.map"}