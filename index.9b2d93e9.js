const e={gallery:document.querySelector(".gallery"),load:document.querySelector(".load-more"),quard:document.querySelector(".js-guard")};let o=1;let n=0;const t=new IntersectionObserver((function(t,s){t.forEach((t=>{t.isIntersecting&&(console.log("I see you"),o+=1,r(o).then((t=>{e.gallery.insertAdjacentHTML("beforeend",a(t.hits)),n=Math.ceil(t.totalHits/100),o===n&&s.unobserve(e.quard)})))})),console.log(t)}),{root:null,rootMargin:"150px",threshold:1});function r(e=1){return fetch(`https://pixabay.com/api/?key=31885081-e3ce08364707c8044635d8ba7&q=cat&page=${e}&per_page=100&image_type=photo&orientation=horizontal&safesearch=true`).then((e=>{if(!e.ok)throw new Error;return e.json("")}))}function a(e){return e.map((({webformatURL:e,tags:o,likes:n,views:t,comments:r,downloads:a})=>`\n    <div class="photo-card">\n<img src="${e}" alt="${o}" loading="lazy"/>\n<div class="info">\n<p><b>Likes: </b>${n}</p>\n<p><b>Views: </b>${t}</p>\n<p><b>Comments: </b>${r}</p>\n <p><b>Downloads: </b>${a}</p>\n  </div>\n    </div>`)).join("")}r().then((o=>{e.gallery.insertAdjacentHTML("beforeend",a(o.hits)),t.observe(e.quard)})).catch((e=>console.log(e)));
//# sourceMappingURL=index.9b2d93e9.js.map
